<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>3 Slide Presentation with Video Backgrounds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Include Reveal.js core and theme styles -->
  <link rel="stylesheet" href="dist/reveal.css">
  <link rel="stylesheet" href="dist/theme/black.css" id="theme">
</head>
<body>

  <div class="reveal">
    <div class="slides">
      <!-- Slide 1 with Video Background (Loops) -->
      <section data-background-video="videos/present2.mp4" 
               data-background-video-muted 
               data-background-video-loop 
               data-background-color="#000000">
        <div style="background-color: rgba(0,0,0,0.7); color: #fff; padding: 20px;">
          <h2>Seamount detection on Bathymetric images</h2>
          <p>Machine Learning with Tensorflow project</p>
        </div>
      </section>

      <!-- Slide 2 with Video Background (No Loop) -->
      <section data-background-video="videos/sonar1.mp4" 
               data-background-video-muted 
               data-background-color="#000000">
        <div style="background-color: rgba(0,0,0,0.7); color: #fff; padding: 20px;">
          <p>Bathymetric data is collected by ship...</p>
        </div>
      </section>

      <!-- Slide 3 with Video Background (No Loop) -->
      <section data-background-video="videos/satellite1.mp4" 
               data-background-video-muted 
               data-background-color="#000000">
        <div style="background-color: rgba(0,0,0,0.7); color: #fff; padding: 20px; margin-top: -200px;">
          <p>...or satellite surveys. So far, it's mostly processed manually and subjectively.</p>
        </div>
      </section>
    </div>
  </div>

  <!-- Include Reveal.js and its dependencies -->
  <script src="dist/reveal.js"></script>
  <script>
    // Initialize Reveal.js with autoplay settings
    Reveal.initialize({
      controls: true,
      progress: true,
      center: true,
      hash: true
    });

    // Debugging: Log when Reveal.js is fully initialized
    Reveal.addEventListener('ready', function(event) {
      console.log('Reveal.js is ready.');

      // Find the first slide's video and attempt to play it
      var firstSlide = document.querySelector('[data-background-video]');
      if (firstSlide) {
        var videoElement = firstSlide.querySelector('video');
        if (videoElement) {
          videoElement.muted = true; // Ensure it's muted for autoplay
          videoElement.play().then(() => {
            console.log('First slide video started playing.');
          }).catch(error => {
            console.warn('Autoplay prevented:', error);
          });
        } else {
          console.warn('No video element found on the first slide.');
        }
      }
    });

    // Debugging: Log every slide change event
    Reveal.addEventListener('slidechanged', function(event) {
      console.log('Slide changed to: horizontal index ' + event.indexh + ', vertical index ' + event.indexv);
    });
  </script>

</body>
</html>
